<!-- templates/search.html -->
<!DOCTYPE html>
<html>
<head><title>Vulnerable Search</title></head>
<body>
    <h2>Search Users (Vulnerable to SQLi)</h2>
    <form method="get">
        <input name="q" value="{{ q }}" placeholder="Search by username">
        <input type="submit" value="Search">
    </form>

    {% if error %}
        <p style="color:red;"><b>{{ error }}</b></p>
    {% endif %}

    {% if results %}
        <h3>Results:</h3>
        <ul>
            {% for user in results %}
                <li>{{ user.username }} - {{ user.password }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <a href="/dashboard">← Dashboard</a>
</body>
</html>
